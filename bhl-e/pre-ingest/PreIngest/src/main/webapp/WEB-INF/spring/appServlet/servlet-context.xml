<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
	xmlns:security="http://www.springframework.org/schema/security"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xsi:schemaLocation="
        http://www.springframework.org/schema/mvc 
        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->
	
	<beans:bean id="mbeanServerFactory" class="org.springframework.jmx.support.MBeanServerFactoryBean" >
    	<beans:property name="locateExistingServerIfPossible" value="true" />
    </beans:bean>
	
	<!-- Enables the Spring MVC @Controller programming model -->
	<annotation-driven />
	
	<beans:bean id="jsonConverter" class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter">
		<beans:property name="supportedMediaTypes" value="application/json" />
	</beans:bean>
	
	<beans:bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
	   <beans:property name="messageConverters">
	       <beans:list>
	           <beans:ref bean="jsonConverter" />
	       </beans:list>
	   </beans:property>
	</beans:bean>
	
	<!-- Setup Spring Integration -->
	<beans:import resource="message-server.xml" />
	<beans:import resource="http-outbound-config.xml" />
	
	<!-- Use multiple view resolver: Internal, Tiles2 -->
	<beans:import resource="view-resolver.xml" />

	<!-- Resolves themes selected for rendering to .jsp spring tags -->
	<beans:import resource="themes.xml" />

	<!-- Imports user-defined @Controller beans that process client requests -->
	<beans:import resource="controllers.xml" />
	
	<!-- Imports user-defined beans that are application domain specific -->
	<beans:import resource="domain-specific.xml" />
	
</beans:beans>
